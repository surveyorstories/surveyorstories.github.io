"use strict";(self.webpackChunkresurvey=self.webpackChunkresurvey||[]).push([["5974"],{2342:function(e,n,s){s.r(n),s.d(n,{metadata:()=>i,default:()=>j,frontMatter:()=>a,contentTitle:()=>c,toc:()=>x,assets:()=>h});var i=JSON.parse('{"type":"mdx","permalink":"/pdfextract/","source":"@site/src/pages/pdfextract/index.md","title":"Pdf Extract","description":"The Pdf Extract is a QGIS plugin that extracts vector data and text from PDF files and converts them to multiple vector formats including DXF, Shapefile, and GeoJSON. It uses PyMuPDF (fitz) to read PDF content and ezdxf to generate DXF files. The plugin supports multi-page PDFs and offers options to extract geometry and text separately, making it suitable for converting PDF maps or drawings into editable GIS layers.","frontMatter":{"id":"PdfExtract","title":"Pdf Extract","sidebar_label":"Pdf Extract"},"unlisted":false}'),t=s(4848),l=s(8453),r=s(6540),o=s(5430);let d=()=>{let[e,n]=(0,r.useState)(""),[s,i]=(0,r.useState)(!0),[l,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{o.A.get("https://api.github.com/repos/surveyorstories/pdfextract/releases/latest").then(e=>{let s=e.data.assets[0];s&&n(s.browser_download_url),i(!1)}).catch(e=>{d("Error fetching release data."),i(!1),console.error("Error fetching release data:",e)})},[]),(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)("button",{className:"modern-btn disabled",disabled:!0,children:"Loading..."}),l&&(0,t.jsx)("button",{className:"modern-btn disabled",disabled:!0,children:"Error loading"}),!s&&!l&&(0,t.jsx)("a",{href:e,download:!0,style:{textDecoration:"none"},children:(0,t.jsx)("button",{className:"modern-btn",children:"\u2B07\uFE0F Download"})})]})},a={id:"PdfExtract",title:"Pdf Extract",sidebar_label:"Pdf Extract"},c="\u{1F4C4} Pdf Extract QGIS Plugin",h={},x=[{value:"\u2728 Features",id:"-features",level:2},{value:"\u2699\uFE0F Installation",id:"\uFE0F-installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installing the Plugin",id:"installing-the-plugin",level:2},{value:"Method 1",id:"method-1",level:3},{value:"Method 2",id:"method-2",level:3},{value:"\u{1F9ED} Usage Guide",id:"-usage-guide",level:2},{value:"\u{1F4AC} Using the Dialog Interface",id:"-using-the-dialog-interface",level:3},{value:"\u2699\uFE0F Running the Algorithm Directly",id:"\uFE0F-running-the-algorithm-directly",level:3},{value:"\u{1F41E} Troubleshooting",id:"-troubleshooting",level:2},{value:"Text not appearing",id:"text-not-appearing",level:3},{value:"Distorted Geometry or Missing Features",id:"distorted-geometry-or-missing-features",level:3},{value:"Output Files Not Found or Not Loading",id:"output-files-not-found-or-not-loading",level:3},{value:"\u{1F575}\uFE0F\u200D\u2642\uFE0F Technical Details",id:"\uFE0F\uFE0F-technical-details",level:2}];function p(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"-pdf-extract-qgis-plugin",children:"\u{1F4C4} Pdf Extract QGIS Plugin"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Pdf Extract"})," is a QGIS plugin that extracts vector data and text from PDF files and converts them to multiple vector formats including DXF, Shapefile, and GeoJSON. It uses PyMuPDF (fitz) to read PDF content and ezdxf to generate DXF files. The plugin supports multi-page PDFs and offers options to extract geometry and text separately, making it suitable for converting PDF maps or drawings into editable GIS layers."]}),"\n",(0,t.jsx)(n.h2,{id:"-features",children:"\u2728 Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Vector Conversion"}),": Converts PDF vector graphics (lines, curves, polygons) into editable vector formats including DXF, Shapefile, and GeoJSON."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Text Extraction"}),": Extracts text from PDF files and converts them into DXF ",(0,t.jsx)(n.code,{children:"MTEXT"})," entities or vector text layers in Shapefile/GeoJSON, preserving position and size."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Layer Separation"}),": Automatically organizes output into distinct layers or files:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Geometry layers contain vector shapes (lines, curves, rectangles)."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Text layers contain all text elements (labels and annotations)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Multi-page Support"}),": Handles multi-page PDFs by generating separate files for each page and content type. For example:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"output_p1_geom.dxf"})," / ",(0,t.jsx)(n.code,{children:".shp"})," / ",(0,t.jsx)(n.code,{children:".geojson"})," for page 1 geometry"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"output_p1_text.dxf"})," / ",(0,t.jsx)(n.code,{children:".shp"})," / ",(0,t.jsx)(n.code,{children:".geojson"})," for page 1 text"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Output Formats"}),": Supports exporting to DXF, Shapefile, and GeoJSON formats."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Automated Loading"}),": Option to automatically load the generated output files into the current QGIS project."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\uFE0F-installation",children:"\u2699\uFE0F Installation"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"The plugin relies on two Python libraries:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"pymupdf"})," (fitz)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"ezdxf"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installing-the-plugin",children:"Installing the Plugin"}),"\n",(0,t.jsxs)(n.p,{children:["Download the plugin zip file (",(0,t.jsx)(n.code,{children:"PdfExtract.zip"}),"). ",(0,t.jsx)(d,{})]}),"\n",(0,t.jsx)(n.h3,{id:"method-1",children:"Method 1"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open ",(0,t.jsx)(n.strong,{children:"OSGeo4W Shell"})," by running the ",(0,t.jsx)(n.code,{children:"OSGeo4W.bat"})," file located in your QGIS installation directory (typically ",(0,t.jsx)(n.code,{children:"C:\\Program Files\\QGIS 3.xx\\OSGeo4W.bat"})," or similar, depending on your QGIS version and installation path)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'pip install pymupdf "ezdxf<1.1"\n'})}),"\n",(0,t.jsx)(n.p,{children:"or (if above fails to activate the plugin try)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'pip install pymupdf "ezdxf"\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open QGIS."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Plugins"})," > ",(0,t.jsx)(n.strong,{children:"Manage and Install Plugins..."}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.strong,{children:"Install from Zip"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Browse to the ",(0,t.jsx)(n.code,{children:"PdfExtract.zip"})," file and click ",(0,t.jsx)(n.strong,{children:"Install Plugin"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"method-2",children:"Method 2"}),"\n",(0,t.jsxs)(n.p,{children:["The plugin includes a dependency check mechanism. If dependencies are missing, it will prompt you to install them. You can install them manually using the ",(0,t.jsx)(n.strong,{children:"OSGeo4W Shell"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open QGIS."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Plugins"})," > ",(0,t.jsx)(n.strong,{children:"Manage and Install Plugins..."}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.strong,{children:"Install from Zip"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Browse to the ",(0,t.jsx)(n.code,{children:"PdfExtract.zip"})," file and click ",(0,t.jsx)(n.strong,{children:"Install Plugin"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Restart the QGIS and follow the on screen instructions to install the missing dependencies. Close QGIS."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open QGIS again."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-usage-guide",children:"\u{1F9ED} Usage Guide"}),"\n",(0,t.jsx)(n.h3,{id:"-using-the-dialog-interface",children:"\u{1F4AC} Using the Dialog Interface"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.strong,{children:"Pdf Extract"})," dialog from the QGIS main window via toolbar or menu."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Input"})," tab:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.code,{children:"Browse..."})," to select the PDF file."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.code,{children:"Browse..."})," to select the output folder."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select the output format from the dropdown: Shapefile (.shp), GeoJSON (.geojson), or DXF (.dxf)."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Optionally, check ",(0,t.jsx)(n.strong,{children:"Load results into QGIS"})," to load outputs automatically."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Advanced"})," tab:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Choose to process ",(0,t.jsx)(n.strong,{children:"All pages"})," or specify a ",(0,t.jsx)(n.strong,{children:"Page Range"})," by entering the start and end page numbers. Selecting a page range allows you to convert only specific pages from the PDF."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select the content to extract:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Geometry"}),": Extracts vector shapes such as lines, curves, and rectangles from the PDF."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Text"}),": Extracts text elements including labels and annotations."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Both"}),": Extracts both geometry and text for comprehensive conversion."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.strong,{children:"Convert"})," \u25B6\uFE0F to start processing."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The progress bar displays the current status."}),"\n",(0,t.jsx)(n.li,{children:"A confirmation message appears upon completion showing how many layers were loaded."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\uFE0F-running-the-algorithm-directly",children:"\u2699\uFE0F Running the Algorithm Directly"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open the QGIS Processing Toolbox."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Search for ",(0,t.jsx)(n.strong,{children:"Pdf Extract"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Configure the algorithm parameters:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Input PDF file path."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Output format (Shapefile or GeoJSON or DXF)."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Output base path."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Option to load output into the project."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the algorithm to process the PDF and generate vector output layers."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-troubleshooting",children:"\u{1F41E} Troubleshooting"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:'"Missing dependencies"'})," Error"]}),"\n",(0,t.jsxs)(n.p,{children:["If you see an error about missing ",(0,t.jsx)(n.code,{children:"pymupdf"})," or ",(0,t.jsx)(n.code,{children:"ezdxf"}),", follow the ",(0,t.jsx)(n.strong,{children:"Installing Dependencies"})," section above. The plugin attempts to prompt for missing dependencies on startup."]}),"\n",(0,t.jsx)(n.h3,{id:"text-not-appearing",children:"Text not appearing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Ensure the PDF actually contains text objects and not just images of text. You can verify this by trying to select text in a PDF viewer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check the ",(0,t.jsx)(n.code,{children:"PDF_TEXT"})," layer or equivalent text layer in QGIS or your CAD software."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"distorted-geometry-or-missing-features",children:"Distorted Geometry or Missing Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The converter supports standard PDF vector commands. Complex clipping paths, transparency groups, or unusual drawing commands might be simplified or ignored."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["DXF output depends on ",(0,t.jsx)(n.code,{children:"ezdxf"})," and its support capabilities."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"output-files-not-found-or-not-loading",children:"Output Files Not Found or Not Loading"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the output folder path and file naming."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Confirm that the supported output formats are DXF, Shapefile, and GeoJSON."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'Ensure output layers are loaded if the "Load results into QGIS" option is enabled.'}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\uFE0F\uFE0F-technical-details",children:"\u{1F575}\uFE0F\u200D\u2642\uFE0F Technical Details"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Coordinate System"}),": PDF coordinates have their origin at the top-left with Y axis increasing downward. The plugin transforms these to GIS-compatible coordinates by flipping the Y axis to origin at bottom-left."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Units"}),": The conversion preserves PDF point units (1/72 inch). Scale adjustments may be needed in QGIS based on your project's Coordinate Reference System (CRS)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Output File Naming"}),": For multi-page PDFs, separate output files are created per page and content type with names like:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"output_p1_geom.dxf"})," / ",(0,t.jsx)(n.code,{children:".shp"})," / ",(0,t.jsx)(n.code,{children:".geojson"})," \u2014 Geometry layer for page 1"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"output_p1_text.dxf"})," / ",(0,t.jsx)(n.code,{children:".shp"})," / ",(0,t.jsx)(n.code,{children:".geojson"})," \u2014 Text layer for     page 1"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Layer Separation"}),": The plugin creates separate layers for geometry (lines, curves, rectangles) and text (labels, annotations) to aid editing and styling in GIS software."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Supported Output Formats"}),": DXF (via ezdxf), Shapefile, and GeoJSON are supported as export formats."]}),"\n"]}),"\n"]})]})}function j(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);